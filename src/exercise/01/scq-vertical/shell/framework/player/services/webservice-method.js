var WebServiceMethod=function(){this._name="",this._param=[],this._service="",this._envelopetype="",this.init=function(e,a){return void 0===e||"undefined"===e?(console.log("invalid service method\r"+a),void 0):"object"!=typeof a?(console.log("invalid service method\r"+a),void 0):void 0===a.param||"object"!=typeof a.param?(console.log("invalid service method\r"+a),void 0):void 0===a.name||""===a.name?(console.log("invalid service method\r"+a),void 0):(void 0!==a.ajaxParam&&"object"==typeof a.ajaxParam&&(this._ajaxParam=a.ajaxParam),void 0!==a.envelopetype&&(this._envelopetype=a.envelopetype),this._name=a.name,this._param=a.param,this._service=e,void 0)},this.run=function(e,a,t,o,r,s,i){var n,m,p,l;switch(void 0===r&&(r=this._name),void 0===s&&(s=!0),m={methodName:this._name,params:o},this._envelopetype){case PlayerConst.SOAP_WEB_SERVICE:l=this.getSOAPEnvelopData(m),p=PlayerConst.WEB_SERVICE_CALL;break;case PlayerConst.REST_WEB_SERVICE:this._service.url=this.getRESTUrl(m),p=PlayerConst.REST_SERVICE_CALL;break;default:l=this.getSOAPEnvelopData(m),p=PlayerConst.WEB_SERVICE_CALL}return l===!1?(console.log("Can not continue. Parameter missing."),void 0):(n={url:this._service.url,success:function(t,o,r,s){a.apply(e,[t,o,r,s])},error:function(){t.apply(e)},hasProgressBar:s,data:l,method:this._name,callType:r,requestType:p},i&&(n.metaKey=i),ServiceManagerFactory.getContext().send(n),void 0)},this.getRESTUrl=function(e){var a,t,o="";for(o=this._service.url+e.methodName+"?",t=this._param.length,a=0;t>a;a+=1)o+="&"+e.params[a].paramName+"="+e.params[a].value;return o},this.getSOAPEnvelopData=function(e){var a,t,o,r,s;for(s=this._service.namespace,r='<?xml version="1.0" encoding="utf-8"?>',r+='<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',r+="<soap:Body>",r+="<"+e.methodName+" "+s+">",o=this._param.length,t=0;o>t;t+=1){if("false"===this._param[t].optional&&void 0===e.params[t])return a=!0,console.log(this._param[t].name+" :: is a reqired Parameter for "+this._name+" service."),!1;r+="<"+e.params[t].paramName+">"+e.params[t].value+"</"+e.params[t].paramName+">"}return r+="</"+e.methodName+">",r+="</soap:Body>",r+="</soap:Envelope>"}};