define(["marionette","player/base/base-item-comp","text!components/checkbox/checkbox.html"],function(t,e,s){var i=e.extend({strId:"",SELECTED_CLASS_POSTFIX:"_selected",strInputCls:"checkboxInput",strInputContentCls:"checkboxContent",strLblCls:"checkboxLabel",strImgDivCls:"checkboxImgDiv",strImgCls:"checkboxImg",template:_.template(s),initialize:function(t){this.objData=t,t&&t.hasOwnProperty("parent")&&(this.parent=t.parent)},onRender:function(){this.$el.addClass(this.model.get("optionTheme")),this.$el.attr("data-cid",this.model.cid),this.$el.prop("optionTheme",this.model.get("optionTheme")),this.model&&(this.strId="checkbox_"+this.model.get("groupName")+"_"+this.model.get("id"),this.$("#"+this.strId).on("change",$.proxy(this.handleOnChange,this)))},handleOnChange:function(t){var e,s,i,h,l,n;this.model.set("checked",t.currentTarget.checked),i=this.model.get("groupName"),h=this.model.get("id"),l=this.$el.find("#correctFB_"+i+"_"+h),n=this.$el.find("#incorrectFB_"+i+"_"+h),l.hide(),n.hide(),this.applySelectedClass(),e=this.$el.data("cid"),s=this.parent.children.findByModelCid(e),this.parent.validateAnOption(this.parent,this.$el,s)},select:function(t){this.model.set("checked",t),this.$("input[type='checkbox']").attr("checked",t),this.applySelectedClass()},applySelectedClass:function(){var t,e,s,i,h;t=this.$("input[type='checkbox']"),i=this.$("label"),e=this.$("label span"),h=this.$("label>div"),s=this.$("label div:first-child"),this.model.get("checked")===!0?(t.addClass(this.strInputCls+this.SELECTED_CLASS_POSTFIX),i.addClass(this.strInputContentCls+this.SELECTED_CLASS_POSTFIX),e.addClass(this.strLblCls+this.SELECTED_CLASS_POSTFIX),h.addClass(this.strImgDivCls+this.SELECTED_CLASS_POSTFIX),s.addClass(this.strImgCls+this.SELECTED_CLASS_POSTFIX),this.$el.addClass(this.model.get("optionTheme")+this.SELECTED_CLASS_POSTFIX)):(t.removeClass(this.strInputCls+this.SELECTED_CLASS_POSTFIX),i.removeClass(this.strInputContentCls+this.SELECTED_CLASS_POSTFIX),e.removeClass(this.strLblCls+this.SELECTED_CLASS_POSTFIX),h.removeClass(this.strImgDivCls+this.SELECTED_CLASS_POSTFIX),s.removeClass(this.strImgCls+this.SELECTED_CLASS_POSTFIX),this.$el.removeClass(this.model.get("optionTheme")+this.SELECTED_CLASS_POSTFIX))}});return i.prototype._super=e,i.prototype.destroy=function(){return this.$("#"+this.strId).off("change",$.proxy(this.handleOnChange,this)),this.unbind(),this.undelegateEvents(),this._super.prototype.destroy(!0)},i});