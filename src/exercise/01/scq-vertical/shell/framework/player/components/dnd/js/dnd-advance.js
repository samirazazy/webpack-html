define(["marionette","player/base/base-layout-comp","components/dnd/js/dnd-helper-advance","css!components/dnd/css/dnd.css","jqueryTouchPunch"],function(e,t,o){var r=t.extend({template:_.template('<div id="dndHolder"></div>'),initialize:function(e){this.itemViewContainer="#dndHolder",this.members={questionData:void 0,dragList:void 0,droptList:void 0},e.hasOwnProperty("draggableItem")&&e.hasOwnProperty("droppableItem")&&(this.members.questionData=e),void 0!==e&&void 0!==e.updatedScale&&this.setStageScaleValue(e.updatedScale)},onRender:function(){void 0!==this.members.questionData&&(this.members.objDnDHelper=new o(this),this.processQuestionData(this.members.questionData))},onShow:function(){var e=this;this.$el.on("click",$.proxy(e.compClick,e)),this.$el.on("mouseover",$.proxy(e.compRollover,e)),this.$el.on("mouseout",$.proxy(e.compRollout,e)),this.members.objDnDHelper&&this.members.objDnDHelper.handleScaling()},onPlayerResizeEvent:function(){this.members&&this.members.objDnDHelper}});return r.prototype.__super__=t,r.prototype.DND_ITEM_DRAG_START_EVENT="dndItemDragStartEvent",r.prototype.DND_ITEM_DRAG_MOVE_EVENT="dndItemDragMoveEvent",r.prototype.DND_ITEM_DROP_EVENT="dndItemDropEvent",r.prototype.DND_ITEM_DRAG_STOP_EVENT="dndItemDragStopEvent",r.prototype.processQuestionData=function(e){this.members.questionData=e,this.$el.removeClass(),this.$el.addClass(e.theme),this.processDnD(),device.tablet()===!1&&this.members.objDnDHelper.handleScaling()},r.prototype.setQuestionData=function(e){this.members.questionData=e,this.render()},r.prototype.processDnD=function(){var e,t=this.members;e=t.objDnDHelper,e.setContainment(t.questionData.containment),e.revertToPosition(t.questionData.revert),e.revertToOriginalPosition(t.questionData.revertToOriginalPosition),t.dragList=t.questionData.draggableItem.option,t.droptList=t.questionData.droppableItem.option,e.dndType(t.questionData.type),e.dropCopy(t.questionData.dropCopy),e.dragCopy(t.questionData.dragCopy),e.multiAccept(t.questionData.multiAccept),e.acceptCorrectOnly(t.questionData.onlyCorrect),e.replaceExisting(t.questionData.replace),e.setAlign(t.questionData.alignment),t.questionData.maxAllowed&&e.setMaxCount(t.questionData.maxAllowed),e.matchByValue(t.questionData.matchByValue),t.objDnDHelper.CreateDraggble(this.verifyData(t.dragList),this.$el),t.objDnDHelper.CreateDroppable(this.verifyData(t.droptList),this.$el)},r.prototype.verifyData=function(e){if(void 0!==e&&void 0===e.length){var t=[];return t.push(e),t}return e},r.prototype.reset=function(e){this.members.objDnDHelper.resetItem(e)},r.prototype.resetAll=function(){this.members.objDnDHelper.resetAll()},r.prototype.showAnswer=function(){return this.members.objDnDHelper.showAnswer()},r.prototype.setItemtoCorrectPosition=function(){return this.members.objDnDHelper.setItemtoCorrectPosition()},r.prototype.freezOption=function(e){this.members.objDnDHelper.freezOption(e)},r.prototype.unfreezOption=function(e){this.members.objDnDHelper.unfreezOption(e)},r.prototype.removeDragFeatureFromOption=function(e){this.members.objDnDHelper.removeDragFeatureFromOption(e)},r.prototype.dispatchDnDEvent=function(e,t){this.customEventDispatcher(e,this,t)},r.prototype.acceptCorrectOnly=function(e){this.members.objDnDHelper(e)},r.prototype.changeCorrectFor=function(e,t){this.members.objDnDHelper.changeCorrectFor(e,t)},r.prototype.checkAnswer=function(){return this.members.objDnDHelper.checkAnswer()},r.prototype.getCorrectIncorrectList=function(){return this.members.objDnDHelper.getCorrectIncorrectList()},r.prototype.resetIncorrectItem=function(){this.members.objDnDHelper.resetIncorrectItem()},r.prototype.freezCorrectOptions=function(){this.members.objDnDHelper.freezCorrectOptions()},r.prototype.destroy=function(){return this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.members.objDnDHelper.destroy(),this.members.objDnDHelper=void 0,this.members.questionData={},this.itemViewContainer=void 0,this.$el.remove(),delete this.members,this.__super__.prototype.destroy(!0)},r});