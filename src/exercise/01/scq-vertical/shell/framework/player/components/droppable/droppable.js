define(["marionette","components/container","components/droppable/model","jqueryTouchPunch"],function(t,e,o){var i=e.extend({template:_.template(""),objData:null,dId:void 0,$droppable:void 0,feedback:null,objHint:null,initialize:function(t){this.objData=t,this.model=new o(t),this.componentType="droppable"},onShow:function(){this.preInitScreenElement(),this.customEventDispatcher(this.eventConst.CREATION_COMPLETE,this,this)}});return i.prototype.preInitScreenElement=function(){if(void 0===this.objData.elementId)this.$droppable=this.$el;else{if("#"!=this.objData.elementId.toString().charAt(0))throw new Error("Error : Please pass some valid id selector");this.dId=this.objData.elementId.toString(),this.$droppable=$(this.dId)}void 0!==this.objData&&void 0!==this.objData.updatedScale&&this.setStageScaleValue(this.objData.updatedScale),this.makeDroppable()},i.prototype.addChild=function(t){var e=t.component;"hint"===e.componentType?(this.objHint=e,this.bEditor===!1&&this.objHint.hideHint()):"feedback"===e.componentType&&(this.feedback=e,this.bEditor===!1&&this.feedback.hide()),this.Super.prototype.addChild.call(this,t)},i.prototype.showFeedback=function(t){this.feedback&&this.feedback.showFeedback(t),this.customEventDispatcher("onFeedbackShowEvent",this,t)},i.prototype.hideFeedback=function(){this.feedback&&this.hideFeedback()},i.prototype.showHint=function(){null!==this.objHint&&this.objHint.showHint()},i.prototype.hideHint=function(){null!==this.objHint&&this.objHint.hideHint()},i.prototype.isValid=function(t){var e=!1;return e="draggable"===t||"droppable"===t||"dnd"===t?!1:!0},i.prototype.makeDroppable=function(){var t=this,e={};setTimeout(function(){t.$droppable.css("position","absolute")},0),this.$droppable.addClass(t.styleClass()),this.bEditor||t.$droppable.droppable({drop:function(o,i){e.ui=i,e.event=o,t.customEventDispatcher("drop",t,e)},activeClass:t.activeClass(),hoverClass:t.hoverClass(),over:function(o,i){e.ui=i,e.event=o,t.customEventDispatcher("over",t,e)}})},i.prototype.enable=function(){this.$droppable.droppable("enable")},i.prototype.disable=function(){this.$droppable.droppable("disable")},i.prototype.setValue=function(t){this.model.set("value",t)},i.prototype.getValue=function(){return this.model.get("value")},i.prototype.data=function(t){return t?(this.model.set("data",t),void 0):this.model.get("data")},i.prototype.styleClass=function(t){return t?(this.model.set("styleClass",t),void 0):this.model.get("styleClass")},i.prototype.activeClass=function(t){return t?(this.model.set("activeClass",t),void 0):this.model.get("activeClass")},i.prototype.hoverClass=function(t){return t?(this.model.set("hoverClass",t),void 0):this.model.get("hoverClass")},i.prototype.isEmpty=function(){return this.model.get("filledWith").length>0?!1:!0},i.prototype.Super=e,i.prototype.destroy=function(){return this.$droppable.droppable({}),this.$droppable.droppable("destroy"),this.Super.prototype.destroy(!0)},i});