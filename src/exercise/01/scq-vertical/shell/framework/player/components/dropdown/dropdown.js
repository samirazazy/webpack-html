define(["marionette","components/case/case","components/dropdown/model","css!components/dropdown/css/dropdown"],function(t,e,o){var s;return s=e.extend({objData:null,comp_dict:[],template:_.template(""),initialize:function(t){this.comp_dict=[],this.dropdownId=null,this.objData=t,this.dd_a=void 0,this.dd_ul=void 0,this.dt_a=void 0,this.model=new o(t),this.componentType="dropdown"},onRender:function(){void 0!==this.objData.styleClass&&($(this.$el).addClass(this.objData.styleClass),$(this.el).attr("id",this.strCompId))},onShow:function(){},onUpdateComplete:function(){this.dropdownId=this.strCompId,this.arrangeElements()}}),s.prototype.isValid=function(){var t=!1;return t},s.prototype.arrangeElements=function(){var t,e=this.model.get("options");for(this.$el.append("<dl class=dropdown id ="+this.dropdownId+"></dl>"),this.$el.find("dl").append("<dt> <a href = '#'>"+e[0]+"<span class = value>"+e[0]+"</span></a><dd><ul></ul></dd></dt>"),t=0;t<e.length;t++)this.$el.find("ul").append("<li><a href = '#'>"+e[t]+"<span class = value>"+e[t]+"</span></a></li>");this.dd_a=this.$el.find("dt a"),this.dd_ul=this.$el.find("dd ul"),this.dt_a=this.$el.find("dt a"),this.showlist()},s.prototype.hideDropdown=function(){this.dd_ul.hide()},s.prototype._changeOptions=function(t){this.model.set("options",t)},s.prototype.defaultState=function(){var t=this.model.get("options");this.dt_a.html(t[0]+"<span class = value>"+t[0]+"</span>")},s.prototype.setValue=function(t){this.dt_a.html(t+"<span class = value>"+t+"</span>")},s.prototype.getValue=function(){var t=this.dd_a.find("span.value").html();return t},s.prototype.getState=function(){return this.getValue()},s.prototype.isReady=function(){return void 0!==this.getValue()?!0:!1},s.prototype.setState=function(t){this.setValue(t)},s.prototype.showlist=function(){var t=this;this.dd_a.click(function(){"none"===t.dd_ul.css("display")&&$(".dropdown dd ul").hide(),t.dd_ul.toggle()}),$(document).bind("click",function(t){var e=$(t.target);e.parents().hasClass("dropdown")||$(".dropdown dd ul").hide()}),this.changeDT()},s.prototype.changeDT=function(){var t=this,e=this.dd_ul.find("li a");e.click(function(){var o=$(this).html();e.hasClass("selectedList")&&e.removeClass("selectedList"),$(this).addClass("selectedList"),t.dt_a.html(o),t.dd_ul.hide(),t.customEventDispatcher("stateChanged",t,t.getValue())})},s.prototype.sendStatement=function(){this.sendStatementToLRS("stateChanged_",this.getValue())},s.prototype.storeChilds=function(t){var e,o,s;return s=this.model.get("compids"),e=s.length>0?s.split("|"):[],o=e.indexOf(t.getID()),0>o?(e.push(t.getID()),this.model.set("compids",e.join("|")),!0):!1},s.prototype.DropdownSuper=e,s.prototype.destroy=function(){return this.comp_dict=[],this.DropdownSuper.prototype.destroy.call(this,!0)},s});