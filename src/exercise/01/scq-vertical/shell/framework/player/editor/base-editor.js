define(["marionette","player/factory/factory","player/constants/errorconst"],function(t,o,e){var r,a;return r=function(t){return this.bEditor=!1,this.objComp=void 0,this.compType=void 0,this.regionId=t,this.objPathUpdater=void 0,this.objFactory=new o,this.rootRef=this,this.errorConst=e,this.isDestroyCalled=!1,this.objFactory.on(this.objFactory.COMP_CREATION_COMPLETE_EVENT,this.rootRef.onComponentCreationComplete,this),_.extend(this,Backbone.Events)},r.prototype.ID="id",r.prototype.COMP_NAME="compname",r.prototype.ON_COMP_CREATED="onComponentCreationComplete",r.prototype.prepareDefaultData=function(t,o,e){var r={};if(r.target=this,void 0===t.attr)r=t.data;else{if(void 0===t.attr("defaultData"))return void 0;r=$.parseJSON(t.attr("defaultData"))}return void 0===o?r:(o(e,r),void 0)},r.prototype.onComponentCreationComplete=function(){},r.prototype.createComponent=function(t){var o={};void 0===t.attr?(o[this.ID]=t.id,o.strCompType=t.type):(o[this.ID]=t.attr(this.ID),o.strCompType=t.attr(this.COMP_NAME)),this.objFactory.createComponent(o)},r.prototype.appendChild=function(t,o,e){var r,a,n,i;return r=$(t).find("[id="+o.id+"]"),a=r.parent(),n=r.attr("style"),i=r.attr("class"),void 0!==i&&e.$el.addClass(i),void 0!==n&&e.$el.attr("style",n),e.$el.insertBefore(r),$(r).remove(),r=void 0,!0},r.prototype.componentCreated=function(){this.objComp.target=this,this.trigger(this.ON_COMP_CREATED,this.objComp)},r.prototype.destroy=function(t,o){if(t!==!0)throw new Error(e.DESTROY_NOT_IMPLMENENTED_IN_CHILD_CLASS);return void 0!==o.objFactory&&o.objFactory.off(o.objFactory.COMP_CREATION_COMPLETE_EVENT),o.objComp=void 0,o.compType=void 0,o.objFactory=void 0,o.rootRef=void 0,o.errorConst=void 0,o.isDestroyCalled=!0,o.isDestroyCalled},a=function(t,o){var e,r,a=this;return r=t&&_.has(t,"constructor")?t.constructor:function(){return a.apply(this,arguments)},_.extend(r,a,o),e=function(){this.constructor=r},e.prototype=a.prototype,r.prototype=new e,t&&_.extend(r.prototype,t),r.__super__=a.prototype,r},r.prototype.loadData=function(t,o,e){var r=this;Data_Loader.on(Data_Loader.DATA_LOAD_SUCCESS,$.proxy(r.successHandler,r)),Data_Loader.on(Data_Loader.DATA_LOAD_FAILED,$.proxy(r.errorHandler,r)),Data_Loader.load({url:t,dataType:o,contentType:"application/xml",returnType:e,scope:r})},r.prototype.successHandler=function(t){Data_Loader.off(Data_Loader.DATA_LOAD_SUCCESS),Data_Loader.off(Data_Loader.DATA_LOAD_FAILED),this.onDataLoadSuccess(t)},r.prototype.errorHandler=function(){Data_Loader.off(Data_Loader.DATA_LOAD_SUCCESS),Data_Loader.off(Data_Loader.DATA_LOAD_FAILED)},r.prototype.setEditorMode=function(t){this.bEditor=t},r.prototype.onDataLoadSuccess=function(){},r.prototype.updateExistingComponent=function(t,o){var e=o.actionKeys[1];"HTML"===e?void 0!==t.setHtmlAttr?t.setHtmlAttr(o.data):console.warn("no setHtmlAttr method found!!!!"):this.updateComponent(t,o)},r.prototype.updateComponent=function(){},r.extend=a,r});